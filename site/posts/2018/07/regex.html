<!DOCTYPE html>
<html>
<head>
<title>Regex</title>
<!-- 2018-08-16 Thu 14:51 -->
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<meta  name="author" content="saltb0rn">
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../../../css/stylesheet.css"/>
<link rel="icon" type="image/png" href="../../../img/icon.png" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>

<div id="org-div-home-and-up">
  <nav>
    <a href="/"><img src="../../../img/logo.png" alt="Logo is on the way"/></a>
    <ul>
      <li><a accesskey="H" href="/"> Home </a></li>
      <!--<li><a accesskey="a" href="/posts"> Posts </a></li>-->
      <li><a accesskey="T" href="/tags"> Tags </a></li>
      <li><a accesskey="A" href="/about"> About </a></li>
    </ul>
  </nav>
</div>
<div id="content">
<h1 class="title">Regex</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Metacharacters</a>
<ul>
<li><a href="#sec-1-1">Start and End of the Line</a></li>
<li><a href="#sec-1-2">Character Classes</a></li>
<li><a href="#sec-1-3">Negated Character classes</a></li>
<li><a href="#sec-1-4">Matching Any Character with Dot</a></li>
<li><a href="#sec-1-5">Matching any one of several subexpressions, Alternation</a></li>
<li><a href="#sec-1-6">Word Boundaries</a></li>
<li><a href="#sec-1-7">Quantifiers</a></li>
<li><a href="#sec-1-8">Parentheses and Backreferences</a></li>
<li><a href="#sec-1-9">The Great Escape</a></li>
</ul>
</li>
<li><a href="#sec-2">Regex Modes and Match Modes</a>
<ul>
<li><a href="#sec-2-1">Case-insensitive match mode</a></li>
<li><a href="#sec-2-2">Free-spacing and comments regex mode</a></li>
<li><a href="#sec-2-3">Dot-matches-all match mode (a.k.a., "single-line mode")</a></li>
<li><a href="#sec-2-4">Enhanced line-anchor match mode (a.k.a., "multiline mode")</a></li>
<li><a href="#sec-2-5">Literal-text regex mode</a></li>
</ul>
</li>
<li><a href="#sec-3">Some Features</a>
<ul>
<li><a href="#sec-3-1">Lookaround</a></li>
<li><a href="#sec-3-2">Grouping, Capturing, Conditionals, and Control</a></li>
</ul>
</li>
<li><a href="#sec-4">Concepts</a>
<ul>
<li><a href="#sec-4-1">Regex Engine Types</a></li>
<li><a href="#sec-4-2">Regex-Directed Versus Text-Directed</a></li>
<li><a href="#sec-4-3">Backtracking, the Essence of an NFA Engine</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="abstract">
<p>
Well, if you always forget somethings, then you should take notes for you to remember them easily.
Regex, regular expression, is such a powerful tool that I always forget how to use it frequently.
It is powerful but not overwhelming, so if take it as your daily need, then there is no need to
take notes. For me, I would rather take notes in beginning, and now it is in it.
</p>

</div>
<p>
I have learned regex in spare time for a long time, as what I mentioned before, easy to forget it.
So, I decide to simplify the information from the book, "Mastering Regular Expressions". Every regex
tool is difference, so you need to read the manual of the tool you are using carefully. Though they
still are similar, I think it will be helpful for you to make some concepts of regex more clear.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Metacharacters</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Start and End of the Line</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>beginning-of-line: ^
</li>
<li>end-of-line: $
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Character Classes</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>[0-9A-ZR!.?], etc., matches one of the characters it lists in [], the dash will is the metacharater
here, if it is the first character in the character class, then it is not. Besides the dash, every
characters in a [] are literal characters.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">Negated Character classes</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>[^&#x2026;], match characters not in the characters following ^, ^ in the character classes means negated.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">Matching Any Character with Dot</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>. is a shorthand for a character class that matches any character.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">Matching any one of several subexpressions, Alternation</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>(exp1|exp2|exp3|&#x2026;), matches one of them
</li>
<li>differentiating from the character class, the metacharacters in it are still metacharacters.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6">Word Boundaries</h3>
<div class="outline-text-3" id="text-1-6">
<ul class="org-ul">
<li>\&lt;a\&gt; or \ba\b, matches a that is a single word.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7">Quantifiers</h3>
<div class="outline-text-3" id="text-1-7">
<ul class="org-ul">
<li>a*: 0 or more a
</li>
<li>a+: 1 or more a
</li>
<li>a?: 0 or 1 a, or a is optional
</li>
<li>a{3,13}: matches up to 12 times if possible, but settles for three.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8">Parentheses and Backreferences</h3>
<div class="outline-text-3" id="text-1-8">
<ul class="org-ul">
<li>\b(t.*e)\b \1, for example, if the string is "the the", then match, \1 refers to what (t.*e)
</li>
</ul>
<p>
matches, so "the tae" does not match. \n, n refers the nth matched string.
</p>
</div>
</div>

<div id="outline-container-sec-1-9" class="outline-3">
<h3 id="sec-1-9">The Great Escape</h3>
<div class="outline-text-3" id="text-1-9">
<ul class="org-ul">
<li>\metacharacter has metacharacter became a literal character
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Regex Modes and Match Modes</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Case-insensitive match mode</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>ignores the case
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">Free-spacing and comments regex mode</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>whitespace outside the character classes are <b>mostly</b> ignored.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Dot-matches-all match mode (a.k.a., "single-line mode")</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>dot usually does not match a newline, but it does in single-line mode
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">Enhanced line-anchor match mode (a.k.a., "multiline mode")</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li>^ treats the string as multiple logical lines if the string contains in the middle, same for $,
$ will may be more complex. For example, in multiline mode "^.*$" or ".*" matches "" of "\nb".
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Literal-text regex mode</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li>it does not recognize most of or all regex metacharacters.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Some Features</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Lookaround</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>lookhead (?=&#x2026;) and (?!&#x2026;), (?=abc) means the position at the start of "abc", (?!abc)
means the position at the start of string that is not "abc".
</li>
<li>lookbehind (?&lt;=&#x2026;) and (?&lt;!&#x2026;), (?&lt;=abc) means the position at the end of "abc",
(?&lt;!abc) means the position at the string that is not "abc".
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">Grouping, Capturing, Conditionals, and Control</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li>capturing/grouping parentheses: (&#x2026;), \1, \2, &#x2026;
</li>
<li>grouping-only parentheses: (?:&#x2026;)
</li>
<li>named capture: (?&lt;Name&gt;&#x2026;)
</li>
<li>atomic grouping: (?&gt;&#x2026;)
</li>
<li>alternation: &#x2026;|&#x2026;|&#x2026;
</li>
<li>conditional: (? if then | else), three parts if, then and else.
</li>
<li>greedy quantifiers: *, +, ?, {min,max}
</li>
<li>lazy quantifiers: *?, +?, ??, {min,max}?
</li>
<li>possessive quantifiers: *+,++,?+,{min,max}+
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Concepts</h2>
<div class="outline-text-2" id="text-4">
<p>
This is the most important part for me, it told me how the regex engine match, once understand this,
there will be no problems to craft regular expression anymore (after practicing enough of course). It
covers what "greedy" and "lazy" means, what types of regex engine, what "backtrack" is and how it does.
</p>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Regex Engine Types</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>DFA (awk, egrep, flex, lex, MySQL, Procmail)
</li>
<li>Traditional NFA (Emacs, Java, grep, less, more, .NET languages, PCRE library, Perl, PHP,
Python, Ruby, sed, vi
</li>
<li>POSIX NFA (mawk, Mortice Kern Systems' utilities, Emacs (when requested)
</li>
<li>Hybrid NFA/DFA (GNU awk, GNU grep/egrep, Tcl)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">Regex-Directed Versus Text-Directed</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>NFA Engine (Nondeterministic Finite Automaton): Regex-Directed.

<p>
For example, match "to(nite|knight|night)" against "..tonight..", the first one is "t", which
repeatelly fails until a "t" is reached in the target string. Once that happens, the "o" is
checked against the next character, and if it matches, control moves to the next component,
(nite|knight|night), which means "nite" or "knight" or "night", engine tries each in turn.
Attempting the first alternative, "nite", recurs the matching behavior as before. If this fails,
as it eventually does, the engine tries another alternative, and so on until it achieves a match
or must report failure.
</p>
</li>

<li>DFA Engine (Deterministic Finite Automaton): Text-Directed

<p>
Contrast the regex-directed NFA engine with an engine that, while scanning the string, keeps
track of of the matches "currently in the work." In the "tonight" example, the moment the
engine hits "t", it adds a potential match to its list of those currently in progress:
</p>


<div class="figure">
<p><img src="../../../files/text-directed.png" alt="text-directed.png">
</p>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">Backtracking, the Essence of an NFA Engine</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>There is about the decision between "make an attempt" and "skip an attempt", as with governed
by quantifier, the engine always chooses to first make the attempt for greedy quantifiers, and
to first skip the attempt for lazy (non-greedy) ones.
</li>

<li>The most recently saved option is the one returned to when a local failure forces backtracking.
Last in first out. Saved option also called saved states, which indicates where matching can
restart from, reflects both the position in regex and the point in the string where an untried
option begins. If it matches then creates and save the state and go on, restart from the last
state it saved otherwise, that is what we call Backtracking.

<p>
A state looks like this:
</p>


<div class="figure">
<p><img src="../../../files/backtracking-state.png" alt="backtracking-state.png">
</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id="disqus_thread"></div>
<script id="dsq-count-scr" src="//darksalt-me.com/count.js" async></script>

<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://darksalt-me.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<p class="author">Author: saltb0rn (<a href="mailto:asche34@outlook.com">asche34@outlook.com</a>)</p>
<p class="date">Date: 2018-07-02</p>
<p class="creator">Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.2.2 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
</div>
</body>
</html>
